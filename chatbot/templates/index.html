<!DOCTYPE html>
<html>
<head>
    <title>Rule-Based Chatbot</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <h2>Rule-Based Chatbot</h2>

    <div id="chatbox"></div>

    <div class="input-area">
        <input type="text" id="userInput" placeholder="Type a message..." />
        <button onclick="sendMessage()">Send</button>
    </div>

    <script>
        function sendMessage() {
            let inputField = document.getElementById("userInput");
            let message = inputField.value;
            let chatbox = document.getElementById("chatbox");

            if (message.trim() === "") return;

            chatbox.innerHTML += "<p class='user'><b>You:</b> " + message + "</p>";

            fetch("/chat", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                chatbox.innerHTML += "<p class='bot'><b>Bot:</b> " + data.response + "</p>";
                chatbox.scrollTop = chatbox.scrollHeight;
            });

            inputField.value = "";
        }
    </script>

</body>
</html>